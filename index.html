<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plato info block</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body >
<div class="alert" data-expire="22.02.2025">
    <p class="alert-title">
        Изменение в работе скалодрома
    </p>
    <p class="alert-description">
        Четверг 07.07 работаем до 16:00 <br/>
        Пятница - зал закрыт <br/>
        В субботу проходят <a
            href="https://docs.google.com/forms/d/e/1FAIpQLSe2hMTmwpIPhjuEwyVKIHY-ujo_moNF0pS029_xngM2xWgdVg/viewform"
            target="_blank">соревнования "BOULDER COMBAT"</a><br/>
        Воскресенье - открыты с 12:00
    </p>
</div>
<script>

  function sendHeight() {
    const alert = document.querySelector('.alert');
    let height = alert?.scrollHeight || 0;
    if (alert?.dataset?.expire && (new Date().getTime() > new (alert?.dataset?.expire))) {
      height = 0;
      document.body.removeChild(alert);
    }
    parent?.postMessage({ platoHeight: height}, '*');
  }

  sendHeight();
  setInterval(() => sendHeight(), 5000);
</script>
</body>
</html>
