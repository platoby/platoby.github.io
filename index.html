<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plato info block</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body >
<div class="alert" data-expire="2025-09-29">
    <p class="alert-title">
        Изменения в работе скалодрома
    </p>
    <p class="alert-description">
        26 сентября скалодром не работает, <br/>
        27-28 апреля проходит Чемпионат Беларуси по скалолазанию, <br/> 
        приходите поболеть за спортсменов.
    </p>
</div>
<script>

  function sendHeight() {
    const alert = document.querySelector('.alert');
    let height = alert?.scrollHeight || 0;
    const expireDate = new Date(alert?.dataset?.expire);
    if (!isNaN(expireDate) && (new Date().getTime() > expireDate.getTime())) {
      height = 0;
      document.body.removeChild(alert);
    }
    parent?.postMessage({ platoHeight: height}, '*');
  }

  sendHeight();
  setInterval(() => sendHeight(), 5000);
</script>
</body>
</html>
