<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plato info block</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body >
<div class="alert" data-expire="2025-04-14">
    <p class="alert-title">
        Изменение в работе скалодрома
    </p>
    <p class="alert-description">
        11 апреля скалодром не работает, <br/>
        12-13 апреля проходит этап кубка Беларуси по скалолазанию 
    </p>
</div>
<script>

  function sendHeight() {
    const alert = document.querySelector('.alert');
    let height = alert?.scrollHeight || 0;
    const expireDate = new Date(alert?.dataset?.expire);
    if (!isNaN(expireDate) && (new Date().getTime() > expireDate.getTime())) {
      height = 0;
      document.body.removeChild(alert);
    }
    parent?.postMessage({ platoHeight: height}, '*');
  }

  sendHeight();
  setInterval(() => sendHeight(), 5000);
</script>
</body>
</html>
